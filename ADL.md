# Architecture decision log

> формат: 
> ## ADR-000  (status) КРАТКО О ЧЕМ
> Обоснование выбора, с сылками на NFR, US, CON.\
> _пустая строка_

## ADR-000 (active) выбор архитектуры
Используем BPMN-compatible обпеньсорсный оркестратор, вызывающий отдельные действия посредством HTTP\JSON вызовов.   
Обоснование:
1. Описание содержит несколько процессов с разными участниками. Реализация логики процессов в коде потребует изменения кода каждый раз, когда потребуется поменять местами пару шагов при сохранении сути самих действий. В случае оркестратора, достаточно поменять BPMN описание.
2. Писать самому BPMN движок нет смысла, поэтому берем opensource (Camunda7, JBPM etc)

## ADR-001 (active) выбор СУБД
Данные храним в PostgreSQL.  
Обоснование:
* На текущий момент, нет никаких требований, явно ограничивающих выбор СУБД:
  * нет информации, которую стоит хранить как граф
  * нет требований, по которым стоит предпочесть именно Key-Value
* Camunda умеет работать с PostgreSQL
* В случае разделения на микросервисы, SQL Lite будет ограничивать масштабирование
* Доступность можно повысить кластеризацией

## ADR-002 (active) eventstorming notation  
Для записи ивент-шторминга используем BPMN.  
Обоснование:
- форма элементов (квадратики-ромбики) имеет банальное объяснение - большинство бумажных стикеров - квадратной формы. Т.е. любые фигры, понятные команде, не хуже других.
- BPMN понятен многим аналитикам и даже бизнесу без обучения (если не упарываться)
- в отличие от miro и прочих "досок", у Camunda Modeler есть симулятор, позволяющий наглядно проследить поток.
